<app-header [text]="'Chi tiết câu hỏi'"></app-header>
<ng-container [ngSwitch]="questionType">
  <ng-container *ngSwitchCase="QuestionType.chooseAnswer">
    <div class="text-2xl font-semibold my-2">Loại: Câu hỏi - lựa chọn</div>
    <form nz-form nzLayout="vertical">
      <mathjax [content]="question.text!"></mathjax>
      <nz-form-item>
        <nz-form-label nzRequired="">Câu hỏi</nz-form-label>
        <nz-form-control>
          <textarea
            nz-input
            [(ngModel)]="question.text"
            [ngModelOptions]="{ standalone: true }"
          ></textarea>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label nzRequired="">Đáp án đúng</nz-form-label>
        <nz-radio-group
          [(ngModel)]="question.value"
          [ngModelOptions]="{ standalone: true }"
        >
          <label
            *ngFor="let answer of listAnswer"
            nz-radio
            [nzValue]="answer.value"
          >
            <mathjax [content]="answer.value!"></mathjax
          ></label>
        </nz-radio-group>
      </nz-form-item>
      <nz-form-item>
        <div class="flex items-center gap-x-2">
          <nz-form-label nzRequired="">Đáp án</nz-form-label>
          <i
            (click)="addAnswer()"
            class="fa-solid fa-circle-plus text-2xl pb-[8px] cursor-pointer hover:opacity-70"
          ></i>
        </div>
        <ng-container>
          <div *ngFor="let answer of listAnswer; index as i">
            <div class="grid grid-cols-5 items-center gap-x-2 mt-2">
              <div class="flex items-center col-span-2">
                <div class="mr-3">Đáp án {{ i + 1 }}:</div>
                <mathjax [content]="answer.value || ''"></mathjax>
              </div>
              <textarea
                class="col-span-2"
                placeholder="Nhập đáp án"
                rows="1"
                nz-input
                [(ngModel)]="answer.value"
                [ngModelOptions]="{ standalone: true }"
              ></textarea>
              <div
                (click)="remove(answer)"
                class="col-span-1 text-center text-lg cursor-pointer hover:text-red-500"
              >
                <i class="fa-solid fa-trash-can"></i>
              </div>
            </div>
          </div>
        </ng-container>
      </nz-form-item>
    </form>
  </ng-container>
  <ng-container *ngSwitchCase="QuestionType.choosePair">
    <div class="text-2xl font-semibold my-2">Loại: Chọn cặp phù hợp</div>
  </ng-container>
</ng-container>
<ng-container>
  <div class="w-full flex justify-end items-center gap-x-2">
    <button nz-button nzType="default">Hủy</button>
    <button nz-button nzType="primary" (click)="update()">Cập nhật</button>
  </div>
</ng-container>
